{"entries":[{"timestamp":1768515850575,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":237,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":33,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":206,"length1":41,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":233,"length1":75,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"test.ts","value":"// testene settes inn her; disse vil ikke kompilert så lenge denne pakken blir brukt som en utvidelse.\n"},{"type":"added","filename":"NEO-6M.ts","value":"//% weight=100 color=#0f7dbc icon=\"\\uf124\"\nnamespace gps {\n    let rxPin: SerialPin\n    let txPin: SerialPin\n    let gps_date = \"\"\n    let gps_time = \"\"\n    let latitude: number\n    let lat_dir = \"\"\n    let longitude = 0\n    let long_dir = \"\"\n    let altitude = 0\n    let speed = 0\n    let hdop = 0\n    let course = \"\"\n    let data: string[] = []\n\n    //% block=\"GPS init RX %rx TX %tx\"\n    export function init(rx: SerialPin, tx: SerialPin): void {\n        rxPin = rx\n        txPin = tx\n        serial.redirect(rxPin, txPin, 9600)\n        serial.setRxBufferSize(128)\n    }\n\n    serial.onDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n        data = serial.readUntil(serial.delimiters(Delimiters.NewLine)).split(\",\")\n        if (data[0].includes(\"RMC\")) {\n            gps_date = data[9]\n            gps_time = data[1]\n            latitude = convertDegree(data[3], 2)\n            lat_dir = data[4]\n            longitude = convertDegree(data[5], 3)\n            long_dir = data[6]\n            speed = parseFloat(data[7]) * 1.852\n            course = data[8]\n        } else if (data[0].includes(\"GGA\")) {\n            hdop = parseFloat(data[8])\n            altitude = parseFloat(data[9])\n        }\n    })\n\n    function convertDegree(data: string, num: number) {\n        return parseFloat(data.substr(0, num)) + parseFloat(data.substr(num, data.length - num)) / 60\n    }\n\n    //% block=\"Tid\"\n    export function get_time(): string {\n        return gps_time\n    }\n\n    //% block=\"Dato\"\n    export function get_date(): string {\n        return gps_date\n    }\n\n    //% block=\"Breddegrad\"\n    export function get_latitude(): number {\n        return latitude\n    }\n\n    //% block=\"Breddegrad retning\"\n    export function get_latitude_dir(): string {\n        return lat_dir\n    }\n\n    //% block=\"Lengdegrad\"\n    export function get_longitude(): number {\n        return longitude\n    }\n\n    //% block=\"Lengdegrad retning\"\n    export function get_longitude_dir(): string {\n        return long_dir\n    }\n\n    //% block=\"Høyde\"\n    export function get_altitude(): number {\n        return altitude\n    }\n\n    //% block=\"HDOP\"\n    export function get_hdop(): number {\n        return hdop\n    }\n\n    //% block=\"Fart (km/h)\"\n    export function get_speed(): number {\n        return speed\n    }\n\n    //% block=\"Retning\"\n    export function get_course(): string {\n        return course\n    }\n\n}"}]}],"snapshots":[{"timestamp":1768515850574,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"GPS NEO-6M\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1768516169894}